language: csharp
os: linux
sudo: required
dist: trusty
dotnet: 2.0.0
mono: latest
env:
 - DOTNET_SKIP_FIRST_TIME_EXPERIENCE=true DOTNET_CLI_TELEMETRY_OPTOUT=true
 - GAE_PYTHONPATH=${HOME}/.cache/google_appengine PATH=$PATH:${HOME}/google-cloud-sdk/bin PYTHONPATH=${PYTHONPATH}:${GAE_PYTHONPATH} CLOUDSDK_CORE_DISABLE_PROMPTS=1
before_install:
- if [ ! -d ${HOME}/google-cloud-sdk ]; then
     curl https://sdk.cloud.google.com | bash;
  fi
- gcloud auth activate-service-account --key-file credential.json
install:
 - gcloud config set project $GOOGLE_PROJECT_ID
script:
  - ./build.sh
  - gcloud -q preview app deploy app.yaml --promote